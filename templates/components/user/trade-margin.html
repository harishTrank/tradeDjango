{% include "components/new-tab/user-header.html" %}
{% load static %}{% block newtab %}


<div class="tab-content" id="trademargin">
  <div class="flex">
    <div class="trade-download">
      <div style="transform: rotate(90deg); padding-left: 10px; cursor:pointer;">
        <p id="tradeMarginFilterId">Filter</p>
      </div>
      <span>
        <a href=""><i class="fa-solid fa-file-csv"></i></a>
      </span>
    </div>
    <div class="trades-side">
      <div class="trade-top">
        <div class="flex space-bw">
          <div>
            <p>Filter</p>
          </div>
          <div class="closeBtn">
            <i class="fa-solid fa-xmark"></i>
          </div>
        </div>
      </div>
      <form method="get">
        {% csrf_token %}
      <div class="trade-btm">
        <div class="flex space-bw">
          <label for="">Exchange:</label>
          <select name="exchange" id="tradeMarginExchangeId" class="form_control flex">
            <option value="">All exchange</option>
            <option value="MCX">MCX</option>
            <option value="NSE">NSE</option>
            <option value="MINI">MINI</option>
          </select>
        </div>
        <div class="flex space-bw">
          <label for="">Margin Type:</label>
          <select name="margin_type" id="" class="form_control">
            <option value="">Percentage</option>
            <option value="">Amount</option>
          </select>
        </div>

        <div class="flex space-bw">
          <label for="">Price</label>
          <input type="number" name="price" class="form_control" />
        </div>
        <div style="display: flex">
          <button
            type="submit"
            value="Apply"
            class="form-btn mr"
            style="border: 1px solid white"
            id="applyFilterId">Apply
          </button>
          {% comment %} <button
            type="submit"
            value="Update"
            class="cancel-btn"
            style="border: 1px solid white">Update
          </button> {% endcomment %}
        </div>
        {% comment %} <button
          style="
            width: 100%;
            color: white;
            background-color: rgb(89, 89, 229);
            border: 1px solid white;
            padding: 4px;"
        >
          Update to All Users
        </button> {% endcomment %}
      </div>
    </form>
    </div>
    <div class="trades-body user-table">
      <div class="pos-relate">
        <table style="width: 100%">
          <tr>
            <th><input id="tradeCheckBoxId" type="checkbox" /></th>
            <th>Exchange</th>
            <th>Script</th>
            {% comment %} <th>Expiry Date</th> {% endcomment %}
            <th>Trade Margin</th>
            {% comment %} <th>Description</th> {% endcomment %}
            <th>Updated Date</th>
          </tr>

          <tbody id="tradeMarginId">
            {% for i in trade_margin %}
            <tr>
              <td><input type="checkbox" /></td>
                <td>{{i.exchange}}</td>
                <td>{{i.script}}</td>
                <td>{{i.trade_margin}}</td>
                {% comment %} <td>{{i.disc}}</td> {% endcomment %}
                <td>{{i.created_at}}</td>
              </tr>
              {% endfor %}
            
          </tbody>
         
        </table>
      </div>
    </div>
  </div>
</div>

<script>
  
  $('.closeBtn').click(function () {
    $(".trades-side").hide();
    $(".trades-body").css("width", "95%");
});

$('#tradeMarginFilterId').click(function () {
  $(".trades-side").show();
  $(".trades-body").css("width", "66%");
});
</script>

{% endblock newtab %}
