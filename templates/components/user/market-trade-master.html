<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title></title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="" />
  </head>
  <body>
    <div class="create-profile" id="tradeRightId">
      <div class="change-pass">
        <div class="create-profile-inside-admin" style="width:21%;">
          <div class="top-body flex align-center space-bw align-center">
            <div class="flex admin-right">
              <p>Market Trade Rights</p>
            </div>
            <div>
              <i class="fa-solid fa-x adminRightClose"></i>
            </div>
          </div>
          <div class="middle-body">
            <div class="inner-middle-body">
              <div class="flex space-bw">
                <div class="flex add-order cm-order common-font align-center">
                  <p><b>Market Trade for Master &nbsp</b></p>
                  <label class="switch">
                    <input id="traderightID" type="checkbox">
                    <span class="slider round"></span>
                </label>
                </div>
              </div>
           
            <div class="save-cancel-btn flex space-bw">
              <button onClick="tradeRightHandler(event)" type="submit" >Save</button>
              <button class="">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="" async defer></script>
    <style>
      #tradeRightId {
        display: none;
      }

      .change-pass {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      li {
        list-style: none;
      }
      .flex {
        display: flex;
        flex-wrap: wrap;
      }
      .space-bw {
        justify-content: space-between;
      }
      .align-center {
        align-items: center;
      }
      .text-center {
        text-align: center;
      }
      .justify-center {
        justify-content: center;
      }

      a {
        text-decoration: none;
      }
      .white-back {
        background: #fff;
        box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.1);
      }
      .container {
        max-width: 90%;
        margin: 0 auto;
      }

      / --------------------------- / .create-profile {
        position: fixed;
        top: 0;
        left: 0;
        background: rgba(0, 0, 0, 0.5);
        width: 100%;
        height: 100%;
        z-index: 99;
      }
      .create-profile-inside-admin {
        width: 19%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 999;
        background: #e7e7e7;
        border-radius: 10px;
        box-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px,
          rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px,
          rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;
      }
      .admin-right i {
        margin-right: 8px;
        color: #ff0000;
        font-size: 10px;
        margin-top: 2px;
      }
      .top-body {
        background-color: #c9c9c9;
        padding: 8px;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
      }
      .middle-body {
        background-color: #fff;
        padding: 15px;
      }
      .inner-middle-body {
        padding: 6px;
        border: 1px solid black;
      }

      .cm-order {
        margin-bottom: 6px;
      }
      .toggle-btm {
        margin: 8px 0px;
      }
      .toggle-btm div p {
        font-size: 12px;
        font-weight: 600;
      }
      .save-cancel-btn {
        margin: 8px 0px;
      }
      .common-font p b {
        font-size: 16px;
      }
      .save-cancel-btn {
        padding: 0px 45px;
      }
      .save-cancel-btn button:first-child {
        background-color: #008000;
        padding: 2px 10px;
        color: #fff;
        border: none;
      }
      .save-cancel-btn button:last-child {
        background-color: #221b1b;
        padding: 5px 10px;
        color: #fff;
        border: none;
      }
    </style>
    <script>

      $("#marketTradeRightBtnId").click(() => {
        axios.get(`{% url "admin-trade-get" %}?user_id=${$("#current_selected_userId").val()}`)
        .then(response => {
          $("#traderightID").prop("checked",response.data.data.trade_right);
        })
        .catch(error => {
          console.error(error);
        })
      })

      $(".adminRightClose").click(() =>
        $("#tradeRightId").css("display", "none")
      );

      const tradeRightHandler = (event) => {
        if (
          $("#traderightID").val() !== ""
        ) {
          event.preventDefault();
          const body = {
            trade_right: $("#traderightID").prop("checked")
          };
          axios
            .post(
              `{% url 'admin-trade-right' %}?id=${$(
                "#current_selected_userId"
              ).val()}`,
              body,
              { headers: { "X-CSRFToken": "{{ csrf_token }}" } }
            )
            .then((data) => {
              console.log("res",data)
              $("#tradeRightId").css("display", "none")
              toastMixin.fire({
                animation:true,
                title:data.data.message,
                icon: "success",
              });
            });
          }
          };
    </script>
  </body>
</html>
